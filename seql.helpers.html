<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>seql.helpers documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Seql</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="README.html"><div class="inner"><span># Introduction</span></div></a></li><li class="depth-1 "><a href="quickstart.html"><div class="inner"><span># Quickstart</span></div></a></li><li class="depth-1 "><a href="sandbox.html"><div class="inner"><span># Sandbox set-up</span></div></a></li><li class="depth-1 "><a href="seql.html"><div class="inner"><span># SEQL reference</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>seql</span></div></div></li><li class="depth-2 branch"><a href="seql.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 current"><a href="seql.helpers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>helpers</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="seql.helpers.html#var-compound"><div class="inner"><span>compound</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-condition"><div class="inner"><span>condition</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-entity"><div class="inner"><span>entity</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-field"><div class="inner"><span>field</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-has-many"><div class="inner"><span>has-many</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-ident"><div class="inner"><span>ident</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-inline-condition"><div class="inner"><span>inline-condition</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-make-schema"><div class="inner"><span>make-schema</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-mutation"><div class="inner"><span>mutation</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-mutation-fn"><div class="inner"><span>mutation-fn</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-transform"><div class="inner"><span>transform</span></div></a></li><li class="depth-1"><a href="seql.helpers.html#var-transforms"><div class="inner"><span>transforms</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">seql.helpers</h1><div class="doc"><div class="markdown"><p>A collection of functions and macros used to help building SEQL schemas conforming to the spec provided in :seql.core/schema</p></div></div><div class="public anchor" id="var-compound"><h3>compound</h3><h4 class="type">macro</h4><div class="usage"><code>(compound field source &amp; body)</code></div><div class="doc"><div class="markdown"><p>Create a compound field, which sources one or more fields from the base entity and yields a new computed value.</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L56">view source</a></div></div><div class="public anchor" id="var-condition"><h3>condition</h3><div class="usage"><code>(condition field from-field value)</code><code>(condition field from-field)</code><code>(condition field)</code></div><div class="doc"><div class="markdown"><p>Build a condition which can be used to filter results at the database layer.</p>
<p>With a single arg, builds a condition bearing the name of a field to test pure equality.</p>
<p>With two args, builds a condition testing equality against the provided field name.</p>
<p>With three args, tests a field name against a provided value.</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L79">view source</a></div></div><div class="public anchor" id="var-entity"><h3>entity</h3><div class="usage"><code>(entity arg &amp; components)</code></div><div class="doc"><div class="markdown"><p>Provide an entity description. Expects either a keyword or a tuple of <code>[entity-name table-name]</code> and a list of details as expressed by <code>field</code>, <code>compound</code>, <code>has-many</code>, <code>condition</code>, and <code>mutation</code></p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L199">view source</a></div></div><div class="public anchor" id="var-field"><h3>field</h3><div class="usage"><code>(field id &amp; details)</code></div><div class="doc"><div class="markdown"><p>Define an entity field, with optional details. Possible detail functions include: <code>transform</code>, <code>ident</code></p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L47">view source</a></div></div><div class="public anchor" id="var-has-many"><h3>has-many</h3><div class="usage"><code>(has-many field [local remote])</code></div><div class="doc"><div class="markdown"><p>Express a one to many relation between the current entity and a remote one, expects a tuple of local ID to (qualified) remote ID.</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L67">view source</a></div></div><div class="public anchor" id="var-ident"><h3>ident</h3><div class="usage"><code>(ident)</code></div><div class="doc"><div class="markdown"><p>Marks the current field as ident, used inside field definitions</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L22">view source</a></div></div><div class="public anchor" id="var-inline-condition"><h3>inline-condition</h3><h4 class="type">macro</h4><div class="usage"><code>(inline-condition field args &amp; body)</code></div><div class="doc"><div class="markdown"><p>Provide a function tail which shall yield a honeysql fragment to express a where condition on a field.</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L107">view source</a></div></div><div class="public anchor" id="var-make-schema"><h3>make-schema</h3><div class="usage"><code>(make-schema &amp; entities)</code></div><div class="doc"><div class="markdown"><p>Provide a complete schema of entites</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L216">view source</a></div></div><div class="public anchor" id="var-mutation"><h3>mutation</h3><h4 class="type">macro</h4><div class="usage"><code>(mutation mutation-name spec bindv &amp; body)</code></div><div class="doc"><div class="markdown"><p>Provide a function tail to perform a mutation against an entity</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L118">view source</a></div></div><div class="public anchor" id="var-mutation-fn"><h3>mutation-fn</h3><div class="usage"><code>(mutation-fn mutation-name spec handler)</code></div><div class="doc"><div class="markdown"><p>Provide a function to perform a named mutation</p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L130">view source</a></div></div><div class="public anchor" id="var-transform"><h3>transform</h3><div class="usage"><code>(transform short-name)</code><code>(transform out in)</code></div><div class="doc"><div class="markdown"><p>Provide transformation for the field. Transformations can either be a keyword, pointing to a known transformation (see <code>transforms</code> for details), or a tuple of <code>[deserializer serializer]</code></p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L31">view source</a></div></div><div class="public anchor" id="var-transforms"><h3>transforms</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Commonly needed transforms for <code>transform</code></p></div></div><div class="src-link"><a href="https://github.com/exoscale/seql/blob/0.1.0/src/seql/helpers.clj#L27">view source</a></div></div></div></body></html>